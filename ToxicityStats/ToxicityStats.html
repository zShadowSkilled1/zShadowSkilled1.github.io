<!DOCTYPE html>
<html>
<head>
    <title>Toxicity Stats</title>
</head>
<body>
    <h1>Toxicity Stats</h1>
    <div id="stats">
        Loading data...
    </div>

    <script>
        // Function to make an HTTP GET request and update the HTML content
        function updateStats() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    var data = JSON.parse(this.responseText);
                    var stats = "Received Content:<br>";
                    data.forEach(function (entry) {
                        var username = entry.username;
                        var count = entry.count;
                        stats += username + ", " + count + " insults<br>";
                    });
                    document.getElementById("stats").innerHTML = stats;
                } else if (this.readyState == 4) {
                    document.getElementById("stats").innerHTML = "Failed to fetch data.";
                }
            };
            xhttp.open("GET", "https://toxicitystats.shadowbot1.repl.co", true);
            xhttp.send();
        }

        // Call the function to update stats when the page loads
        updateStats();
    </script>
</body>
</html>
